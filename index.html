<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dev Center</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=Syne:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   VARIABLES & RESET
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */
:root{
  --bg:#07080f;--bg2:#0a0c18;--card:#10131f;--card2:#13172a;
  --border:rgba(255,255,255,0.06);--border2:rgba(99,102,241,0.25);
  --accent:#6366f1;--accent2:#a855f7;--accent3:#22d3ee;
  --text:#e8ecf4;--muted:#7a85a3;
  --green:#4ade80;--red:#f87171;--gold:#fbbf24;
  --sidebar-w:240px;
}
*{margin:0;padding:0;box-sizing:border-box;}
html{scroll-behavior:smooth;}
body{background:var(--bg);color:var(--text);font-family:'Syne',sans-serif;overflow-x:hidden;min-height:100vh;}
::-webkit-scrollbar{width:5px;}
::-webkit-scrollbar-track{background:var(--bg2);}
::-webkit-scrollbar-thumb{background:var(--border2);border-radius:3px;}

/* ‚ïê‚ïê CANVAS ‚ïê‚ïê */
#orb-canvas{position:fixed;inset:0;pointer-events:none;z-index:0;}
body::after{content:'';position:fixed;inset:0;opacity:.4;pointer-events:none;z-index:1;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");}

/* ‚ïê‚ïê NAV ‚ïê‚ïê */
nav{position:fixed;top:0;left:0;right:0;z-index:500;display:flex;align-items:center;justify-content:space-between;padding:0 5%;height:66px;background:rgba(7,8,15,0.9);backdrop-filter:blur(20px);border-bottom:1px solid var(--border);}
.nav-logo{display:flex;align-items:center;gap:9px;font-size:1.2rem;font-weight:800;color:#fff;letter-spacing:-.5px;cursor:pointer;user-select:none;}
.nav-links{display:flex;gap:2rem;list-style:none;}
.nav-links a{color:var(--muted);text-decoration:none;font-size:.87rem;font-weight:600;transition:color .2s;cursor:pointer;}
.nav-links a:hover{color:#fff;}
.nav-actions{display:flex;gap:.6rem;align-items:center;}
#nav-user-wrap{display:none;align-items:center;gap:.6rem;}
#nav-avatar{width:30px;height:30px;border-radius:50%;border:2px solid var(--border2);}
#nav-uname{font-size:.85rem;font-weight:700;}

/* ‚ïê‚ïê BUTTONS ‚ïê‚ïê */
.btn{padding:.5rem 1.2rem;border-radius:8px;font-family:'Syne',sans-serif;font-weight:700;font-size:.84rem;cursor:pointer;border:none;transition:all .2s;display:inline-flex;align-items:center;gap:.45rem;text-decoration:none;}
.btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;box-shadow:0 0 18px rgba(99,102,241,.22);}
.btn-primary:hover{transform:translateY(-1px);box-shadow:0 0 32px rgba(99,102,241,.42);}
.btn-outline{background:transparent;border:1px solid var(--border);color:var(--text);}
.btn-outline:hover{border-color:var(--accent);color:#fff;}
.btn-discord{background:#5865F2;color:#fff;}
.btn-discord:hover{background:#4752c4;transform:translateY(-1px);}
.btn-sm{padding:.32rem .85rem;font-size:.76rem;}
.btn-danger{background:rgba(248,113,113,.1);color:var(--red);border:1px solid rgba(248,113,113,.3);}
.btn-danger:hover{background:rgba(248,113,113,.2);}
.btn-success{background:rgba(74,222,128,.1);color:var(--green);border:1px solid rgba(74,222,128,.3);}
.btn-success:hover{background:rgba(74,222,128,.2);}
.btn-warn{background:rgba(251,191,36,.1);color:var(--gold);border:1px solid rgba(251,191,36,.3);}
.btn-warn:hover{background:rgba(251,191,36,.2);}

/* ‚ïê‚ïê PAGES ‚ïê‚ïê */
.page{display:none;position:relative;z-index:2;}
.page.active{display:block;}
#page-dashboard{display:none;}
#page-dashboard.active{display:flex;}

/* ‚ïê‚ïê HERO ‚ïê‚ïê */
.hero{min-height:100vh;display:flex;align-items:center;padding:110px 5% 80px;position:relative;overflow:hidden;}
.hero-left{max-width:580px;}
.hero-badge{display:inline-flex;align-items:center;gap:.45rem;background:rgba(99,102,241,.08);border:1px solid rgba(99,102,241,.25);padding:.38rem .95rem;border-radius:100px;font-size:.76rem;font-weight:700;color:var(--accent3);margin-bottom:1.8rem;letter-spacing:.5px;animation:fadeUp .6s ease both;}
.hero h1{font-size:clamp(2.4rem,4vw,4rem);font-weight:800;line-height:1.08;letter-spacing:-2px;margin-bottom:1.4rem;animation:fadeUp .6s .1s ease both;}
.hero h1 .hl{background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.hero-desc{font-family:'Space Mono',monospace;font-size:.84rem;color:var(--muted);line-height:1.8;margin-bottom:2.2rem;max-width:460px;animation:fadeUp .6s .2s ease both;}
.hero-cta{display:flex;gap:.85rem;flex-wrap:wrap;animation:fadeUp .6s .3s ease both;}

/* ‚ïê‚ïê WINDOWS TERMINAL ‚ïê‚ïê */
.win-terminal{position:absolute;right:5%;top:50%;transform:translateY(-50%);width:430px;background:#1e1e1e;border:1px solid #3a3a3a;border-radius:8px;overflow:hidden;box-shadow:0 30px 70px rgba(0,0,0,.75);animation:fadeUp .6s .4s ease both;}
.win-titlebar{background:#323233;padding:.5rem .8rem;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #3a3a3a;}
.win-title-left{display:flex;align-items:center;gap:.5rem;}
.win-icon{width:14px;height:14px;background:#4d4d4d;border-radius:2px;display:flex;align-items:center;justify-content:center;}
.win-title-text{font-family:'Space Mono',monospace;font-size:.7rem;color:#ccc;}
.win-controls{display:flex;gap:.35rem;}
.wc{width:11px;height:11px;border-radius:2px;cursor:pointer;}
.wc-min{background:#848484;}.wc-max{background:#848484;}.wc-cls{background:#e74856;}
.win-body{padding:1rem 1.2rem;font-family:'Space Mono',monospace;font-size:.78rem;line-height:1.9;min-height:180px;}
.wt-path{color:#61afef;}.wt-cmd{color:#fff;}.wt-out{color:#abb2bf;padding-left:.5rem;}
.wt-success{color:#98c379;}.wt-cur{display:inline-block;width:7px;height:.85rem;background:#abb2bf;vertical-align:middle;animation:blink 1s infinite;}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
@keyframes fadeUp{from{opacity:0;transform:translateY(18px)}to{opacity:1;transform:translateY(0)}}

/* ‚ïê‚ïê HOME SECTIONS (Fonctionnalit√©s + About inline) ‚ïê‚ïê */
.home-section{padding:80px 5%;position:relative;z-index:2;}
.home-section:nth-child(even){background:linear-gradient(180deg,transparent,rgba(99,102,241,.03),transparent);}
.sh{text-align:center;margin-bottom:3.5rem;}
.stag{display:inline-block;background:rgba(99,102,241,.08);border:1px solid rgba(99,102,241,.25);color:var(--accent);font-size:.71rem;font-weight:700;letter-spacing:2px;text-transform:uppercase;padding:.28rem .8rem;border-radius:100px;margin-bottom:.8rem;}
.sh h2{font-size:clamp(1.6rem,2.8vw,2.4rem);font-weight:800;letter-spacing:-1px;}
.sh p{color:var(--muted);margin-top:.5rem;font-family:'Space Mono',monospace;font-size:.8rem;}

/* ‚ïê‚ïê PRICING ‚ïê‚ïê */
.pricing-cats{display:flex;flex-direction:column;gap:4.5rem;}
.cat-ttl{display:flex;align-items:center;gap:1rem;font-size:1rem;font-weight:800;margin-bottom:1.8rem;color:var(--muted);}
.cat-ttl::before,.cat-ttl::after{content:'';flex:1;height:1px;background:linear-gradient(90deg,transparent,var(--border),transparent);}
.pg{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.3rem;}
.pc{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:1.8rem;position:relative;transition:all .3s;overflow:hidden;}
.pc::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--accent),transparent);opacity:0;transition:.3s;}
.pc:hover{border-color:rgba(99,102,241,.35);transform:translateY(-3px);}
.pc:hover::before{opacity:1;}
.pc.pop{border-color:rgba(168,85,247,.35);box-shadow:0 0 35px rgba(168,85,247,.05);}
.pc.pop::before{opacity:1;background:linear-gradient(90deg,transparent,var(--accent2),transparent);}
.pop-b{position:absolute;top:.9rem;right:.9rem;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;font-size:.66rem;font-weight:700;padding:.2rem .6rem;border-radius:100px;}
.pc-icon{margin-bottom:.9rem;}
.pc-name{font-size:1.2rem;font-weight:800;margin-bottom:.2rem;}
.pc-req{font-size:.75rem;color:var(--muted);font-family:'Space Mono',monospace;margin-bottom:.35rem;}
.pc-price{font-size:.95rem;font-weight:700;color:var(--accent3);margin-bottom:1.3rem;font-family:'Space Mono',monospace;}
.pc-feats{list-style:none;margin-bottom:1.6rem;display:flex;flex-direction:column;gap:.5rem;}
.pc-feats li{display:flex;align-items:center;gap:.5rem;font-size:.84rem;color:var(--muted);}

/* ‚ïê‚ïê ABOUT ‚ïê‚ïê */
.about-grid{display:grid;grid-template-columns:1fr 1fr;gap:3.5rem;align-items:center;}
.about-text h2{font-size:clamp(1.6rem,2.8vw,2.3rem);font-weight:800;letter-spacing:-1px;margin-bottom:1.3rem;line-height:1.18;}
.about-text p{color:var(--muted);line-height:1.8;margin-bottom:1rem;font-size:.91rem;}
.about-stats{display:grid;grid-template-columns:1fr 1fr;gap:1rem;margin-top:2.2rem;}
.astat{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:1.2rem;text-align:center;}
.astat-n{font-size:1.7rem;font-weight:800;background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.astat-l{font-size:.73rem;color:var(--muted);margin-top:.2rem;}
.about-cards{display:flex;flex-direction:column;gap:.8rem;}
.afc{background:var(--card);border:1px solid var(--border);border-radius:11px;padding:1.3rem;display:flex;gap:.8rem;align-items:flex-start;transition:.3s;}
.afc:hover{border-color:rgba(99,102,241,.35);}
.afc-ico{background:rgba(99,102,241,.08);border:1px solid rgba(99,102,241,.18);border-radius:8px;padding:.55rem;color:var(--accent);flex-shrink:0;}
.afc h4{font-size:.92rem;font-weight:700;margin-bottom:.2rem;}
.afc p{font-size:.8rem;color:var(--muted);line-height:1.6;}

/* ‚ïê‚ïê DASHBOARD ‚ïê‚ïê */
#page-dashboard{min-height:100vh;padding-top:66px;}
.dash-sidebar{width:var(--sidebar-w);flex-shrink:0;background:var(--bg2);border-right:1px solid var(--border);position:fixed;top:66px;bottom:0;left:0;overflow-y:auto;z-index:10;display:flex;flex-direction:column;}
.dash-logo-area{padding:1.2rem 1.5rem;border-bottom:1px solid var(--border);}
.dash-logo-area .dl-name{font-size:.78rem;font-weight:700;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;}
.dash-user-card{display:flex;align-items:center;gap:.7rem;padding:1rem 1.5rem;border-bottom:1px solid var(--border);}
.duc-av{width:36px;height:36px;border-radius:50%;border:2px solid var(--border2);overflow:hidden;}
.duc-av img{width:100%;height:100%;object-fit:cover;}
.duc-name{font-size:.88rem;font-weight:700;margin-bottom:.1rem;}
.duc-role{font-size:.7rem;color:var(--accent3);font-weight:600;}
.dash-nav{list-style:none;padding:.8rem 0;flex:1;}
.dash-nav li a{display:flex;align-items:center;gap:.7rem;padding:.65rem 1.5rem;color:var(--muted);font-size:.86rem;font-weight:600;transition:all .2s;border-left:2px solid transparent;cursor:pointer;text-decoration:none;}
.dash-nav li a:hover{color:var(--text);background:rgba(255,255,255,.03);}
.dash-nav li a.act{color:#fff;background:rgba(99,102,241,.08);border-left-color:var(--accent);}
.d-badge{margin-left:auto;background:var(--accent);color:#fff;font-size:.62rem;font-weight:700;padding:.12rem .45rem;border-radius:100px;min-width:18px;text-align:center;}
.d-badge.gold{background:var(--gold);color:#000;}
.dash-main{margin-left:var(--sidebar-w);flex:1;padding:2rem 2.5rem;min-height:calc(100vh - 66px);}

/* ‚ïê‚ïê PANELS ‚ïê‚ïê */
.dp{display:none;}.dp.act{display:block;}
.dash-title{font-size:1.45rem;font-weight:800;letter-spacing:-.5px;margin-bottom:.35rem;}
.dash-sub{color:var(--muted);font-size:.82rem;margin-bottom:2rem;font-family:'Space Mono',monospace;}
.dc-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.1rem;margin-bottom:2.2rem;}
.dc-card{background:var(--card);border:1px solid var(--border);border-radius:11px;padding:1.4rem;}
.dc-val{font-size:1.85rem;font-weight:800;margin-bottom:.25rem;}
.dc-label{font-size:.74rem;color:var(--muted);}
.dcv-a{background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}

/* ‚ïê‚ïê TICKETS ‚ïê‚ïê */
.tk-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.4rem;flex-wrap:wrap;gap:.8rem;}
.tk-filters{display:flex;gap:.5rem;flex-wrap:wrap;}
.fb{background:var(--card);border:1px solid var(--border);color:var(--muted);padding:.3rem .8rem;border-radius:100px;font-size:.76rem;font-weight:600;cursor:pointer;transition:.2s;font-family:'Syne',sans-serif;}
.fb:hover,.fb.act{border-color:var(--accent);color:#fff;background:rgba(99,102,241,.08);}
.tk-list{display:flex;flex-direction:column;gap:.8rem;}
.ti{background:var(--card);border:1px solid var(--border);border-radius:11px;padding:1.1rem 1.4rem;display:flex;align-items:center;gap:.9rem;cursor:pointer;transition:.2s;}
.ti:hover{border-color:rgba(99,102,241,.3);background:var(--card2);}
.ts-dot{width:9px;height:9px;border-radius:50%;flex-shrink:0;}
.ts-o{background:var(--green);box-shadow:0 0 7px var(--green);}
.ts-p{background:var(--gold);box-shadow:0 0 7px var(--gold);}
.ts-c{background:var(--muted);}
.ti-info{flex:1;min-width:0;}
.ti-id{font-size:.7rem;color:var(--muted);font-family:'Space Mono',monospace;margin-bottom:.15rem;}
.ti-title{font-size:.9rem;font-weight:700;margin-bottom:.15rem;}
.ti-prev{font-size:.78rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.ti-right{text-align:right;flex-shrink:0;}
.tcat{font-size:.68rem;font-weight:700;padding:.18rem .55rem;border-radius:100px;margin-bottom:.35rem;display:inline-block;}
.tc-s{background:rgba(99,102,241,.15);color:var(--accent);}
.tc-c{background:rgba(168,85,247,.15);color:var(--accent2);}
.tc-b{background:rgba(248,113,113,.15);color:var(--red);}
.tc-a{background:rgba(34,211,238,.15);color:var(--accent3);}
.ti-time{font-size:.7rem;color:var(--muted);font-family:'Space Mono',monospace;}
.tk-empty{text-align:center;padding:3rem;color:var(--muted);}

/* Create ticket form */
.ctf{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:2rem;max-width:580px;}
.ctf-title{font-size:1rem;font-weight:800;margin-bottom:1.4rem;display:flex;align-items:center;gap:.55rem;}
.fg{margin-bottom:1.05rem;}
.fg label{display:block;font-size:.8rem;font-weight:600;margin-bottom:.42rem;color:var(--muted);}
.fg input,.fg textarea,.fg select{width:100%;background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:7px;padding:.65rem .95rem;color:var(--text);font-family:'Syne',sans-serif;font-size:.86rem;transition:.2s;outline:none;}
.fg input:focus,.fg textarea:focus,.fg select:focus{border-color:var(--accent);box-shadow:0 0 0 3px rgba(99,102,241,.1);}
.fg textarea{resize:vertical;min-height:120px;}
.fg select option{background:var(--card2);}

/* AVIS */
.rev-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:1.3rem;margin-bottom:2.5rem;}
.rc{background:var(--card2);border:1px solid var(--border);border-radius:12px;padding:1.5rem;}
.rev-stars{display:flex;gap:.18rem;margin-bottom:.8rem;}
.rev-text{color:var(--muted);font-size:.86rem;line-height:1.7;margin-bottom:1.2rem;}
.rev-author{display:flex;align-items:center;gap:.7rem;}
.r-av{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:800;font-size:.85rem;overflow:hidden;flex-shrink:0;}
.r-av img{width:100%;height:100%;object-fit:cover;}
.r-name{font-weight:700;font-size:.86rem;}
.r-role{font-size:.73rem;color:var(--muted);}
.rev-form{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:2rem;}
.rev-form h3{font-size:1.1rem;font-weight:800;margin-bottom:.35rem;}
.rev-form .sub{color:var(--muted);font-size:.8rem;margin-bottom:1.5rem;font-family:'Space Mono',monospace;}
.star-row{display:flex;gap:.35rem;margin-bottom:1rem;}
.s-btn{background:none;border:none;cursor:pointer;color:var(--border);font-size:1.3rem;transition:.2s;line-height:1;}
.s-btn.on,.s-btn:hover{color:var(--gold);}

/* TICKET CHAT MODAL */
.mo{position:fixed;inset:0;background:rgba(0,0,0,.8);backdrop-filter:blur(12px);z-index:2000;display:none;align-items:center;justify-content:center;}
.mo.act{display:flex;animation:mfade .18s ease;}
@keyframes mfade{from{opacity:0}to{opacity:1}}
.tcm{background:var(--bg2);border:1px solid var(--border);border-radius:18px;width:min(720px,96vw);height:min(88vh,700px);display:flex;flex-direction:column;overflow:hidden;box-shadow:0 40px 80px rgba(0,0,0,.7);animation:mup .28s cubic-bezier(.34,1.56,.64,1);}
@keyframes mup{from{transform:translateY(30px);opacity:0}to{transform:none;opacity:1}}
.tcm-head{padding:1.1rem 1.4rem;border-bottom:1px solid var(--border);display:flex;align-items:center;gap:.9rem;flex-shrink:0;}
.tcm-head-info{flex:1;}
.tcm-id-line{font-size:.7rem;color:var(--muted);font-family:'Space Mono',monospace;margin-bottom:.15rem;}
.tcm-head h4{font-size:.98rem;font-weight:700;}
.tcm-msgs{flex:1;overflow-y:auto;padding:1.3rem;display:flex;flex-direction:column;gap:.9rem;}
.msg{display:flex;gap:.7rem;align-items:flex-start;}
.msg-av{width:32px;height:32px;border-radius:50%;flex-shrink:0;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-size:.72rem;font-weight:700;overflow:hidden;}
.msg-av img{width:100%;height:100%;object-fit:cover;}
.msg-body{flex:1;}
.msg-name{font-size:.78rem;font-weight:700;margin-bottom:.22rem;}
.msg-txt{background:var(--card);border:1px solid var(--border);border-radius:0 9px 9px 9px;padding:.65rem .95rem;font-size:.84rem;line-height:1.6;word-break:break-word;}
.msg-time{font-size:.68rem;color:var(--muted);margin-top:.2rem;font-family:'Space Mono',monospace;}
.msg.me{flex-direction:row-reverse;}
.msg.me .msg-txt{background:rgba(99,102,241,.14);border-color:rgba(99,102,241,.25);border-radius:9px 0 9px 9px;}
.msg.me .msg-name{text-align:right;}
.msg.sys .msg-txt{background:rgba(255,255,255,.03);color:var(--muted);text-align:center;border-style:dashed;font-size:.76rem;border-radius:8px;}
.tcm-foot{padding:.9rem 1.4rem;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:.6rem;flex-shrink:0;}
.tcm-staff-acts{display:flex;gap:.5rem;flex-wrap:wrap;}
.tcm-inp{display:flex;gap:.7rem;}
.tcm-inp input{flex:1;background:var(--card);border:1px solid var(--border);border-radius:7px;padding:.65rem .95rem;color:var(--text);font-family:'Syne',sans-serif;font-size:.86rem;outline:none;transition:.2s;}
.tcm-inp input:focus{border-color:var(--accent);}
.tcm-closed-note{text-align:center;padding:.6rem;color:var(--muted);font-size:.8rem;font-family:'Space Mono',monospace;}
.mc{background:none;border:none;cursor:pointer;color:var(--muted);font-size:1.1rem;transition:.2s;padding:.2rem;line-height:1;}
.mc:hover{color:#fff;}

/* ORDER MODAL */
.simple-modal{background:var(--bg2);border:1px solid var(--border);border-radius:18px;padding:2.3rem;max-width:460px;width:92%;text-align:center;position:relative;box-shadow:0 40px 80px rgba(0,0,0,.6);animation:mup .28s ease;}
.simple-modal h3{font-size:1.28rem;font-weight:800;margin-bottom:.45rem;}
.simple-modal p{color:var(--muted);font-size:.86rem;margin-bottom:1.8rem;line-height:1.6;}

/* TOAST */
.toast{position:fixed;bottom:1.8rem;right:1.8rem;z-index:9000;background:var(--card2);border:1px solid var(--green);border-radius:9px;padding:.85rem 1.3rem;display:flex;align-items:center;gap:.7rem;box-shadow:0 20px 40px rgba(0,0,0,.5);transform:translateY(100px);opacity:0;transition:.4s cubic-bezier(.34,1.56,.64,1);pointer-events:none;}
.toast.show{transform:none;opacity:1;}
.toast-txt{font-size:.86rem;font-weight:600;}

/* FOOTER */
footer{padding:2.2rem 5% 1.8rem;border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:.8rem;position:relative;z-index:2;}
.foot-logo{display:flex;align-items:center;gap:.55rem;font-weight:800;font-size:.95rem;}
.foot-links{display:flex;gap:1.4rem;}
.foot-links a{color:var(--muted);text-decoration:none;font-size:.8rem;transition:.2s;cursor:pointer;}
.foot-links a:hover{color:#fff;}
.foot-copy{color:var(--muted);font-size:.74rem;font-family:'Space Mono',monospace;}

@media(max-width:900px){
  .win-terminal{display:none;}
  .about-grid{grid-template-columns:1fr;}
  .about-grid .about-cards{display:none;}
}
@media(max-width:700px){
  .nav-links{display:none;}
  .dash-sidebar{display:none;}
  .dash-main{margin-left:0;}
}
</style>
</head>
<body>

<canvas id="orb-canvas"></canvas>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà NAV ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà -->
<nav>
  <div class="nav-logo" onclick="goHome()">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>
    Dev Center
  </div>
  <ul class="nav-links" id="navLinks">
    <li><a onclick="scrollToId('s-features')">Fonctionnalit√©s</a></li>
    <li><a onclick="scrollToId('s-about')">Qui sommes-nous</a></li>
  </ul>
  <div class="nav-actions">
    <div id="nav-user-wrap">
      <img id="nav-avatar" src="" alt="">
      <span id="nav-uname"></span>
      <button class="btn btn-outline btn-sm" onclick="openDash()">
        <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
        Dashboard
      </button>
      <button class="btn btn-sm btn-danger" onclick="logout()">D√©co.</button>
    </div>
    <button class="btn btn-discord" id="nav-login-btn" onclick="loginWithDiscord()">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
      Connexion
    </button>
  </div>
</nav>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà PAGE HOME ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà -->
<div class="page active" id="page-home">

  <!-- HERO -->
  <section class="hero">
    <div class="hero-left">
      <div class="hero-badge">
        <svg width="12" height="12" viewBox="0 0 24 24" fill="currentColor"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
        100% Gratuit &bull; 24/7 &bull; Sans limite
      </div>
      <h1>Dev Center,<br>votre <span class="hl">h√©bergeur<br>communautaire</span></h1>
      <p class="hero-desc">Sites web, Serveurs Discord, Applications.<br>Une plateforme gratuite cr√©√©e par et pour la communaut√©.<br>D√©ployez vos projets en quelques clics.</p>
      <div class="hero-cta">
        <button class="btn btn-primary" onclick="loginWithDiscord()">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
          Connexion Discord
        </button>
        <button class="btn btn-outline" onclick="scrollToId('s-features')">Voir les offres</button>
      </div>
    </div>

    <!-- WINDOWS TERMINAL -->
    <div class="win-terminal">
      <div class="win-titlebar">
        <div class="win-title-left">
          <div class="win-icon">
            <svg width="10" height="10" viewBox="0 0 24 24" fill="#ccc"><rect x="2" y="3" width="20" height="14" rx="2"/><path d="M8 21h8M12 17v4"/></svg>
          </div>
          <span class="win-title-text">Invite de commandes</span>
        </div>
        <div class="win-controls">
          <div class="wc wc-min"></div>
          <div class="wc wc-max"></div>
          <div class="wc wc-cls"></div>
        </div>
      </div>
      <div class="win-body">
        <div><span class="wt-path">C:\Users\Utilisateur\OneDrive\Bureau\h√©bergement\Dev Center Site Web&gt;</span><span class="wt-cmd">npm install</span></div>
        <div class="wt-out">added 342 packages in 4.2s</div>
        <div class="wt-out wt-success">‚úì packages installed</div>
        <br>
        <div><span class="wt-path">C:\Users\Utilisateur\OneDrive\Bureau\h√©bergement\Dev Center Site Web&gt;</span><span class="wt-cmd">node site.js</span></div>
        <br>
        <div class="wt-out wt-success">‚úì Votre site web est h√©berg√© avec succ√®s</div>
        <div class="wt-out wt-success">‚úì Serveur en √©coute sur le port 3000</div>
        <br>
        <div><span class="wt-path">C:\Users\...\Dev Center Site Web&gt;</span><span class="wt-cur"></span></div>
      </div>
    </div>
  </section>

  <!-- FONCTIONNALIT√âS -->
  <section class="home-section" id="s-features">
    <div class="sh"><div class="stag">Fonctionnalit√©s</div><h2>Choisissez votre offre</h2><p>Des solutions adapt√©es √† chaque besoin.</p></div>
    <div class="pricing-cats">
      <!-- DISCORD -->
      <div>
        <div class="cat-ttl">
          <svg width="17" height="17" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
          Serveurs Discord
        </div>
        <div class="pg">
          <div class="pc">
            <div class="pc-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent3)" stroke-width="2"><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg></div>
            <div class="pc-name">Free</div><div class="pc-req">Gratuit</div><div class="pc-price">0 Boost requis</div>
            <ul class="pc-feats">
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Salon personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>R√¥le personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Pas de permissions effectu√©es</li>
            </ul>
            <button class="btn btn-outline" style="width:100%;justify-content:center" onclick="openOrder('Free Discord')">Passer commande</button>
          </div>
          <div class="pc">
            <div class="pc-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--gold)" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div>
            <div class="pc-name">Boss</div><div class="pc-req">1 Boost requis</div><div class="pc-price" style="color:var(--gold)">1 Boost Discord</div>
            <ul class="pc-feats">
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Salon personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>R√¥le personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Permissions</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Syst√®me de suggestions</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Support prioritaire</li>
            </ul>
            <button class="btn btn-outline" style="width:100%;justify-content:center" onclick="openOrder('Boss Discord')">Passer commande</button>
          </div>
          <div class="pc pop">
            <div class="pop-b">Plus populaire</div>
            <div class="pc-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent2)" stroke-width="2"><path d="M12 2l2.4 7.4H22l-6.2 4.5 2.4 7.4L12 17l-6.2 4.3 2.4-7.4L2 9.4h7.6L12 2z"/></svg></div>
            <div class="pc-name">Master</div><div class="pc-req">2 Boosts requis</div><div class="pc-price" style="color:var(--accent2)">2 Boosts Discord</div>
            <ul class="pc-feats">
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Salon personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>R√¥le personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Permissions</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Configuration bot</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Suggestions</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Badges personnalis√©s</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Support prioritaire</li>
            </ul>
            <button class="btn btn-primary" style="width:100%;justify-content:center" onclick="openOrder('Master Discord')">Passer commande</button>
          </div>
        </div>
      </div>
      <!-- WEB -->
      <div>
        <div class="cat-ttl">
          <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="2" y1="12" x2="22" y2="12"/><path d="M12 2a15.3 15.3 0 010 20M12 2a15.3 15.3 0 000 20"/></svg>
          Modules Sites Web
        </div>
        <div class="pg">
          <div class="pc">
            <div class="pc-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent3)" stroke-width="2"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg></div>
            <div class="pc-name">Starter</div><div class="pc-req">Particuliers / Petits projets</div><div class="pc-price">Selon votre d√©veloppeur</div>
            <ul class="pc-feats">
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Site vitrine</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Template professionnel personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>H√©bergement standard</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Sous-domaine inclus</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Support par ticket (48h)</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>1 modification mensuelle</li>
            </ul>
            <button class="btn btn-outline" style="width:100%;justify-content:center" onclick="openOrder('Starter Web')">Passer commande</button>
          </div>
          <div class="pc pop">
            <div class="pop-b">Plus populaire</div>
            <div class="pc-icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="var(--accent2)" stroke-width="2"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></div>
            <div class="pc-name">Pro</div><div class="pc-req">Projet structur√© / Business</div><div class="pc-price" style="color:var(--accent2)">Selon votre d√©veloppeur</div>
            <ul class="pc-feats">
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Site vitrine avanc√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Design 100% personnalis√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Blog int√©gr√©</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Statistiques d√©taill√©es</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Sauvegardes automatiques</li>
              <li><svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>Support prioritaire</li>
            </ul>
            <button class="btn btn-primary" style="width:100%;justify-content:center" onclick="openOrder('Pro Web')">Passer commande</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- QUI SOMMES-NOUS -->
  <section class="home-section" id="s-about">
    <div class="sh"><div class="stag">√Ä propos</div><h2>Qui sommes-nous ?</h2><p>Une √©quipe de d√©veloppeurs passionn√©s.</p></div>
    <div class="about-grid">
      <div class="about-text">
        <h2>D√©veloppeurs,<br><span style="background:linear-gradient(135deg,var(--accent),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;">cr√©ateurs</span> passionn√©s.</h2>
        <p>Dev Center est n√© d'une id√©e simple : offrir aux d√©veloppeurs et cr√©ateurs une plateforme communautaire accessible, puissante et gratuite pour h√©berger leurs projets num√©riques.</p>
        <p>Notre √©quipe est compos√©e de d√©veloppeurs web full-stack, de designers UI/UX et d'experts Discord qui partagent une passion commune : simplifier la cr√©ation et le d√©ploiement de projets.</p>
        <p>Que vous soyez d√©butant ou expert, Dev Center vous accompagne avec des outils adapt√©s et un support r√©actif.</p>
        <div class="about-stats">
          <div class="astat"><div class="astat-n">500+</div><div class="astat-l">Projets d√©ploy√©s</div></div>
          <div class="astat"><div class="astat-n">200+</div><div class="astat-l">Membres actifs</div></div>
          <div class="astat"><div class="astat-n">99.9%</div><div class="astat-l">Uptime garanti</div></div>
          <div class="astat"><div class="astat-n">24/7</div><div class="astat-l">Support dispo</div></div>
        </div>
      </div>
      <div class="about-cards">
        <div class="afc"><div class="afc-ico"><svg width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg></div><div><h4>Expertise technique</h4><p>React, Node.js, Python, Discord.js. Nous ma√Ætrisons les derni√®res technologies.</p></div></div>
        <div class="afc"><div class="afc-ico"><svg width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg></div><div><h4>Communaut√© active</h4><p>Des centaines de d√©veloppeurs qui s'entraident quotidiennement.</p></div></div>
        <div class="afc"><div class="afc-ico"><svg width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/></svg></div><div><h4>Fiabilit√© & s√©curit√©</h4><p>Infrastructure robuste, sauvegardes auto et protection DDoS incluse.</p></div></div>
        <div class="afc"><div class="afc-ico"><svg width="19" height="19" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M8 14s1.5 2 4 2 4-2 4-2"/><line x1="9" y1="9" x2="9.01" y2="9"/><line x1="15" y1="9" x2="15.01" y2="9"/></svg></div><div><h4>Support humain</h4><p>Un support bienveillant et rapide, disponible via ticket ou Discord.</p></div></div>
      </div>
    </div>
  </section>

  <footer>
    <div class="foot-logo"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/></svg>Dev Center</div>
    <div class="foot-links"><a onclick="scrollToId('s-features')">Fonctionnalit√©s</a><a onclick="scrollToId('s-about')">√Ä propos</a></div>
    <div class="foot-copy">¬© 2024 Dev Center ‚Äî Tous droits r√©serv√©s</div>
  </footer>
</div>

<!-- ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà DASHBOARD ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà -->
<div class="page" id="page-dashboard">
  <div class="dash-sidebar">
    <div class="dash-logo-area"><div class="dl-name">Dev Center</div></div>
    <div class="dash-user-card">
      <div class="duc-av"><img id="dash-avatar" src="" alt=""></div>
      <div>
        <div class="duc-name" id="dash-uname"></div>
        <div class="duc-role" id="dash-role">Membre</div>
      </div>
    </div>
    <ul class="dash-nav">
      <li><a class="act" onclick="showPanel('overview',this)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
        Aper√ßu
      </a></li>
      <li><a onclick="showPanel('my-tickets',this)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
        Mes tickets
        <span class="d-badge" id="myBadge">0</span>
      </a></li>
      <li><a onclick="showPanel('create-ticket',this)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
        Cr√©er un ticket
      </a></li>
      <li><a onclick="showPanel('reviews',this)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>
        Avis
      </a></li>
      <li id="staff-li" style="display:none"><a onclick="showPanel('all-tickets',this)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/></svg>
        Staff ‚Äî Tickets
        <span class="d-badge gold" id="allBadge">0</span>
      </a></li>
      <li><a onclick="goHome()">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
        Retour accueil
      </a></li>
      <li><a onclick="logout()" style="color:var(--red)">
        <svg width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
        D√©connexion
      </a></li>
    </ul>
  </div>

  <div class="dash-main">

    <!-- OVERVIEW -->
    <div class="dp act" id="dp-overview">
      <div class="dash-title">Bonjour, <span id="dash-hello"></span> üëã</div>
      <div class="dash-sub">// Bienvenue sur votre espace Dev Center</div>
      <div class="dc-cards">
        <div class="dc-card"><div class="dc-val dcv-a" id="ov-tot">0</div><div class="dc-label">Mes tickets</div></div>
        <div class="dc-card"><div class="dc-val" style="color:var(--green)" id="ov-open">0</div><div class="dc-label">Ouverts</div></div>
        <div class="dc-card"><div class="dc-val" style="color:var(--gold)" id="ov-pend">0</div><div class="dc-label">En cours</div></div>
        <div class="dc-card"><div class="dc-val" style="color:var(--muted)" id="ov-done">0</div><div class="dc-label">Ferm√©s</div></div>
        <div class="dc-card" id="ov-staff-c" style="display:none"><div class="dc-val" style="color:var(--gold)" id="ov-all">0</div><div class="dc-label">Total (staff)</div></div>
      </div>
      <div style="background:var(--card);border:1px solid var(--border);border-radius:12px;padding:1.5rem;">
        <div style="font-size:.95rem;font-weight:700;margin-bottom:1rem;">Actions rapides</div>
        <div style="display:flex;gap:.7rem;flex-wrap:wrap;">
          <button class="btn btn-primary btn-sm" onclick="showPanel('create-ticket',null)">
            <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
            Nouveau ticket
          </button>
          <button class="btn btn-outline btn-sm" onclick="showPanel('my-tickets',null)">Voir mes tickets</button>
          <button class="btn btn-outline btn-sm" onclick="showPanel('reviews',null)">Laisser un avis</button>
        </div>
      </div>
    </div>

    <!-- MY TICKETS -->
    <div class="dp" id="dp-my-tickets">
      <div class="dash-title">Mes tickets</div>
      <div class="dash-sub">// Vos demandes de support et commandes</div>
      <div class="tk-header">
        <div class="tk-filters">
          <button class="fb act" onclick="filterTk('all',this,'my')">Tous</button>
          <button class="fb" onclick="filterTk('open',this,'my')">Ouverts</button>
          <button class="fb" onclick="filterTk('pending',this,'my')">En cours</button>
          <button class="fb" onclick="filterTk('closed',this,'my')">Ferm√©s</button>
        </div>
      </div>
      <div class="tk-list" id="myTkList"></div>
    </div>

    <!-- CREATE TICKET -->
    <div class="dp" id="dp-create-ticket">
      <div class="dash-title">Cr√©er un ticket</div>
      <div class="dash-sub">// Ouvrez une demande de support ou commande</div>
      <div class="ctf">
        <div class="ctf-title">
          <svg width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          Nouveau ticket
        </div>
        <div class="fg"><label>Cat√©gorie</label>
          <select id="tkCat">
            <option value="support">Support technique</option>
            <option value="commande">Commande</option>
            <option value="bug">Signaler un bug</option>
            <option value="autre">Autre</option>
          </select>
        </div>
        <div class="fg"><label>Sujet</label><input type="text" id="tkSubj" placeholder="D√©crivez bri√®vement votre demande..."></div>
        <div class="fg"><label>Description</label><textarea id="tkDesc" placeholder="Expliquez votre probl√®me ou demande en d√©tail..."></textarea></div>
        <button class="btn btn-primary" onclick="createTicket()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="16"/><line x1="8" y1="12" x2="16" y2="12"/></svg>
          Ouvrir le ticket
        </button>
      </div>
    </div>

    <!-- REVIEWS (dans dashboard) -->
    <div class="dp" id="dp-reviews">
      <div class="dash-title">Avis de la communaut√©</div>
      <div class="dash-sub">// Retours authentiques de nos membres</div>
      <div class="rev-grid" id="revGrid">
        <div class="rc"><div class="rev-stars"><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div><p class="rev-text">Service impeccable ! Mon serveur Discord configur√© en quelques heures. Support ultra r√©actif.</p><div class="rev-author"><div class="r-av">A</div><div><div class="r-name">AlphaCode</div><div class="r-role">D√©veloppeur Web</div></div></div></div>
        <div class="rc"><div class="rev-stars"><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--border)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div><p class="rev-text">L'offre Pro est compl√®te et le r√©sultat est vraiment pro. Prix raisonnable, livraison rapide !</p><div class="rev-author"><div class="r-av" style="background:linear-gradient(135deg,#22d3ee,#6366f1)">N</div><div><div class="r-name">NovaDev</div><div class="r-role">Cr√©ateur de contenu</div></div></div></div>
        <div class="rc"><div class="rev-stars"><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg><svg width="13" height="13" viewBox="0 0 24 24" fill="var(--gold)"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></div><p class="rev-text">Site vitrine livr√© en 48h, design parfait. L'√©quipe est vraiment √† l'√©coute. Je reviendrai !</p><div class="rev-author"><div class="r-av" style="background:linear-gradient(135deg,#4ade80,#22d3ee)">S</div><div><div class="r-name">SkyBuilder</div><div class="r-role">Entrepreneur</div></div></div></div>
      </div>
      <!-- FORM -->
      <div class="rev-form">
        <h3>
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2" style="vertical-align:middle;margin-right:5px"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>
          Laisser un avis
        </h3>
        <p class="sub">// Partagez votre exp√©rience avec la communaut√©</p>
        <div style="margin-bottom:1rem;"><label style="display:block;font-size:.8rem;font-weight:600;color:var(--muted);margin-bottom:.4rem;">Note</label>
          <div class="star-row">
            <button class="s-btn" onclick="setStar(1)">‚òÖ</button>
            <button class="s-btn" onclick="setStar(2)">‚òÖ</button>
            <button class="s-btn" onclick="setStar(3)">‚òÖ</button>
            <button class="s-btn" onclick="setStar(4)">‚òÖ</button>
            <button class="s-btn" onclick="setStar(5)">‚òÖ</button>
          </div>
        </div>
        <div class="fg"><label>Votre avis</label><textarea id="revTxt" placeholder="Partagez votre exp√©rience avec Dev Center..."></textarea></div>
        <button class="btn btn-primary" onclick="submitReview()">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          Envoyer l'avis
        </button>
      </div>
    </div>

    <!-- ALL TICKETS (STAFF) -->
    <div class="dp" id="dp-all-tickets">
      <div class="dash-title">Gestion des tickets</div>
      <div class="dash-sub">// Vue staff ‚Äî g√©rez tous les tickets</div>
      <div class="tk-header">
        <div class="tk-filters">
          <button class="fb act" onclick="filterTk('all',this,'all')">Tous</button>
          <button class="fb" onclick="filterTk('open',this,'all')">Ouverts</button>
          <button class="fb" onclick="filterTk('pending',this,'all')">En cours</button>
          <button class="fb" onclick="filterTk('closed',this,'all')">Ferm√©s</button>
        </div>
      </div>
      <div class="tk-list" id="allTkList"></div>
    </div>

  </div><!-- /dash-main -->
</div><!-- /dashboard -->

<!-- TICKET CHAT MODAL -->
<div class="mo" id="moTicket">
  <div class="tcm">
    <div class="tcm-head">
      <div class="tcm-head-info">
        <div class="tcm-id-line" id="tcm-id"></div>
        <h4 id="tcm-title"></h4>
      </div>
      <span class="tcat" id="tcm-cat"></span>
      <div id="tcm-staff-acts" style="display:flex;gap:.4rem;flex-wrap:wrap;"></div>
      <button class="mc" onclick="closeMo('moTicket')">‚úï</button>
    </div>
    <div class="tcm-msgs" id="tcm-msgs"></div>
    <div class="tcm-foot" id="tcm-foot">
      <div class="tcm-staff-acts" id="tcm-sa"></div>
      <div class="tcm-inp">
        <input type="text" id="tcm-input" placeholder="Votre message..." onkeydown="if(event.key==='Enter')sendMsg()">
        <button class="btn btn-primary btn-sm" onclick="sendMsg()">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          Envoyer
        </button>
      </div>
    </div>
  </div>
</div>

<!-- ORDER MODAL -->
<div class="mo" id="moOrder">
  <div class="simple-modal">
    <button class="mc" style="position:absolute;top:1rem;right:1rem" onclick="closeMo('moOrder')">‚úï</button>
    <div style="margin-bottom:1rem">
      <svg width="42" height="42" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="1.5"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
    </div>
    <h3 id="mo-title">Passer commande</h3>
    <p id="mo-desc">Connectez-vous avec Discord pour commander.</p>
    <button class="btn" style="width:100%;justify-content:center;padding:.75rem" id="mo-btn" onclick="loginWithDiscord()">
      <svg width="17" height="17" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg>
      Se connecter avec Discord
    </button>
  </div>
</div>

<!-- TOAST -->
<div class="toast" id="toast">
  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="var(--green)" stroke-width="2.5"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>
  <span class="toast-txt" id="toast-txt"></span>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// CONFIG
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const CLIENT_ID = '1477279042230157404';
const REDIRECT_URI = 'https://jojolm24.github.io/beta-dev/';
const WEBHOOK = 'https://discord.com/api/webhooks/1470398339437690883/BO4-s1zgnlGdszcdhp_GHGlGB7-oeWElx1OluZyA6SepV_Dl-ftXiljqXWKAboC35hTY';
const STAFF_ROLE = '1469655288213930045';

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MOUSE ORBS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function(){
  const cv = document.getElementById('orb-canvas');
  const cx = cv.getContext('2d');
  let W = cv.width = innerWidth, H = cv.height = innerHeight;
  let mx = W/2, my = H/2;
  const orbs = Array.from({length:20}, () => ({
    x: Math.random()*W, y: Math.random()*H,
    vx: (Math.random()-.5)*.45, vy: (Math.random()-.5)*.45,
    r: Math.random()*4.5+1.5, a: Math.random()*.55+.15
  }));
  addEventListener('mousemove', e => { mx=e.clientX; my=e.clientY; });
  addEventListener('resize', () => { W=cv.width=innerWidth; H=cv.height=innerHeight; });
  function draw(){
    cx.clearRect(0,0,W,H);
    orbs.forEach(o => {
      const dx=mx-o.x, dy=my-o.y, d=Math.sqrt(dx*dx+dy*dy);
      if(d<280){ o.vx+=dx/d*.05; o.vy+=dy/d*.05; }
      o.vx*=.96; o.vy*=.96;
      o.x+=o.vx; o.y+=o.vy;
      if(o.x<0||o.x>W) o.vx*=-1;
      if(o.y<0||o.y>H) o.vy*=-1;
      const g = cx.createRadialGradient(o.x,o.y,0,o.x,o.y,o.r*12);
      g.addColorStop(0, `rgba(255,255,255,${o.a})`);
      g.addColorStop(.35, `rgba(180,190,255,${o.a*.3})`);
      g.addColorStop(1, 'rgba(99,102,241,0)');
      cx.beginPath(); cx.arc(o.x,o.y,o.r*12,0,Math.PI*2);
      cx.fillStyle=g; cx.fill();
      cx.beginPath(); cx.arc(o.x,o.y,o.r,0,Math.PI*2);
      cx.fillStyle=`rgba(255,255,255,${o.a})`; cx.fill();
    });
    requestAnimationFrame(draw);
  }
  draw();
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// STATE
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let CU = null, isStaff = false, selStars = 0, curTk = null, pendPlan = null;
let tickets = JSON.parse(localStorage.getItem('dctk')||'[]');
const saveTk = () => localStorage.setItem('dctk', JSON.stringify(tickets));

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TOKEN DETECTION ‚Äî runs immediately at parse time
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
;(function detectToken(){
  try {
    // Discord returns token in URL hash: #access_token=XXX&token_type=Bearer&...
    const raw = window.location.hash || location.hash || '';
    const str = raw.startsWith('#') ? raw.slice(1) : raw;
    if(!str) return;
    const p = new URLSearchParams(str);
    const tk = p.get('access_token');
    if(tk){
      sessionStorage.setItem('dct', tk);
      sessionStorage.setItem('dc_go_dash', '1');
      // Clean URL immediately
      if(history.replaceState) history.replaceState(null, '', location.pathname + location.search);
    }
  } catch(e){}
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DISCORD AUTH
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function loginWithDiscord(){
  // Only use 'identify' scope ‚Äî guilds.members.read requires special OAuth2 verification
  const url = `https://discord.com/api/oauth2/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=identify`;
  window.location.href = url;
}

async function fetchUser(token){
  try {
    const res = await fetch('https://discord.com/api/users/@me', { headers: { Authorization: `Bearer ${token}` }});
    if(!res.ok) throw new Error('Bad response: ' + res.status);
    CU = await res.json();
    if(!CU || !CU.id) throw new Error('No user returned');
    sessionStorage.setItem('dcu', JSON.stringify(CU));
    // Staff check: can't use guilds.members.read without special scope
    // Instead: mark staff manually via known user IDs or skip ‚Äî isStaff stays false by default
    // (staff can be manually set server-side; for now staff detection is disabled with basic scope)
    isStaff = false;
    sessionStorage.setItem('dcs', 'false');
    updateNav();
    toast(`Bienvenue ${CU.username} !`);
    hook({ embeds:[{ title:'üîî Connexion', description:`**${CU.username}** s'est connect√©`, color:0x6366f1, thumbnail:{url:av(CU)}, timestamp:new Date().toISOString() }] });
    return true;
  } catch(e){
    console.error('fetchUser error', e);
    return false;
  }
}

function av(u){ return u&&u.avatar ? `https://cdn.discordapp.com/avatars/${u.id}/${u.avatar}.png` : `https://cdn.discordapp.com/embed/avatars/${(parseInt(u?.discriminator||'0')%5)}`.replace('NaN','0')+'.png'; }

function updateNav(){
  if(!CU) return;
  document.getElementById('nav-login-btn').style.display = 'none';
  const w = document.getElementById('nav-user-wrap');
  w.style.display = 'flex';
  document.getElementById('nav-avatar').src = av(CU);
  document.getElementById('nav-uname').textContent = CU.username;
}

function logout(){
  sessionStorage.clear();
  CU = null; isStaff = false;
  document.getElementById('nav-login-btn').style.display = '';
  document.getElementById('nav-user-wrap').style.display = 'none';
  goHome();
  toast('D√©connect√©.');
}

// DOMContentLoaded: init auth + handle redirect
document.addEventListener('DOMContentLoaded', async () => {
  const tk = sessionStorage.getItem('dct');
  const goDash = sessionStorage.getItem('dc_go_dash');

  if(tk && goDash){
    sessionStorage.removeItem('dc_go_dash');
    const ok = await fetchUser(tk);
    if(ok){ openDash(); return; }
  }

  // Restore existing session
  const sv = sessionStorage.getItem('dcu');
  if(sv){
    try {
      CU = JSON.parse(sv);
      isStaff = sessionStorage.getItem('dcs') === 'true';
      updateNav();
    } catch(e){}
  }
});

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PAGE ROUTER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function goHome(){
  document.querySelectorAll('.page').forEach(p => { p.style.display='none'; p.classList.remove('active'); });
  const h = document.getElementById('page-home');
  h.style.display = 'block'; h.classList.add('active');
  const nl = document.getElementById('navLinks');
  if(nl) nl.style.display = '';
  window.scrollTo(0,0);
}

function openDash(){
  if(!CU){ loginWithDiscord(); return; }
  document.querySelectorAll('.page').forEach(p => { p.style.display='none'; p.classList.remove('active'); });
  const d = document.getElementById('page-dashboard');
  d.style.display = 'flex'; d.classList.add('active');
  const nl = document.getElementById('navLinks');
  if(nl) nl.style.display = 'none';
  refreshDash();
  window.scrollTo(0,0);
}

function scrollToId(id){
  const el = document.getElementById(id);
  if(el){ const y = el.getBoundingClientRect().top + window.scrollY - 80; window.scrollTo({top:y, behavior:'smooth'}); }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DASHBOARD
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPanel(id, el){
  document.querySelectorAll('.dp').forEach(p => p.classList.remove('act'));
  const target = document.getElementById(`dp-${id}`);
  if(target) target.classList.add('act');
  document.querySelectorAll('.dash-nav a').forEach(a => a.classList.remove('act'));
  if(el) el.classList.add('act');
  if(id==='my-tickets') renderMyTk();
  if(id==='all-tickets') renderAllTk();
  return false;
}

function refreshDash(){
  if(!CU) return;
  document.getElementById('dash-uname').textContent = CU.username;
  document.getElementById('dash-hello').textContent = CU.username;
  document.getElementById('dash-avatar').src = av(CU);
  document.getElementById('dash-role').textContent = isStaff ? '‚ö° Staff' : 'Membre';

  const my = tickets.filter(t => t.uid === CU.id);
  const open = my.filter(t => t.st === 'open');
  const pend = my.filter(t => t.st === 'pending');
  const done = my.filter(t => t.st === 'closed');

  document.getElementById('ov-tot').textContent = my.length;
  document.getElementById('ov-open').textContent = open.length;
  document.getElementById('ov-pend').textContent = pend.length;
  document.getElementById('ov-done').textContent = done.length;
  document.getElementById('myBadge').textContent = open.length + pend.length;
  document.getElementById('allBadge').textContent = tickets.filter(t=>t.st!=='closed').length;

  if(isStaff){
    document.getElementById('staff-li').style.display = '';
    document.getElementById('ov-staff-c').style.display = '';
    document.getElementById('ov-all').textContent = tickets.length;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TICKETS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const catC = {support:'tc-s', commande:'tc-c', bug:'tc-b', autre:'tc-a'};
const catL = {support:'Support', commande:'Commande', bug:'Bug', autre:'Autre'};
const stC  = {open:'ts-o', pending:'ts-p', closed:'ts-c'};
const stL  = {open:'Ouvert', pending:'En cours', closed:'Ferm√©'};

function tkHTML(t, showUser=false){
  const time = new Date(t.ca).toLocaleDateString('fr-FR',{day:'2-digit',month:'2-digit',hour:'2-digit',minute:'2-digit'});
  const last = t.msgs[t.msgs.length-1];
  const prev = (last ? last.txt : t.desc).substring(0,55) + '...';
  return `<div class="ti" onclick="openTk('${t.id}')">
    <div class="ts-dot ${stC[t.st]||'ts-o'}"></div>
    <div class="ti-info">
      <div class="ti-id">#${t.id.slice(-6).toUpperCase()} ‚Äî ${stL[t.st]||'Ouvert'}</div>
      <div class="ti-title">${t.subj}</div>
      <div class="ti-prev">${prev}</div>
    </div>
    ${showUser ? `<div style="font-size:.78rem;color:var(--muted);flex-shrink:0;text-align:center;"><div style="width:30px;height:30px;border-radius:50%;background:var(--card2);border:1px solid var(--border);display:flex;align-items:center;justify-content:center;font-weight:700;font-size:.7rem;margin:0 auto .2rem">${(t.uname||'?')[0].toUpperCase()}</div>${t.uname||'?'}</div>` : ''}
    <div class="ti-right">
      <div class="tcat ${catC[t.cat]||'tc-a'}">${catL[t.cat]||'Autre'}</div>
      <div class="ti-time">${time}</div>
    </div>
  </div>`;
}

function emptyTk(){ return `<div class="tk-empty"><svg width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" style="opacity:.25;display:block;margin:0 auto .9rem"><path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/></svg>Aucun ticket</div>`; }

function renderMyTk(f='all'){
  const l = document.getElementById('myTkList');
  if(!CU){ l.innerHTML = emptyTk(); return; }
  let d = tickets.filter(t => t.uid === CU.id);
  if(f !== 'all') d = d.filter(t => t.st === f);
  d.sort((a,b) => b.ca - a.ca);
  l.innerHTML = d.length ? d.map(t => tkHTML(t)).join('') : emptyTk();
}

function renderAllTk(f='all'){
  const l = document.getElementById('allTkList');
  let d = [...tickets];
  if(f !== 'all') d = d.filter(t => t.st === f);
  d.sort((a,b) => b.ca - a.ca);
  l.innerHTML = d.length ? d.map(t => tkHTML(t, true)).join('') : emptyTk();
}

function filterTk(f, btn, scope){
  if(btn){ const g=btn.closest('.tk-filters'); if(g){ g.querySelectorAll('.fb').forEach(b=>b.classList.remove('act')); btn.classList.add('act'); } }
  scope==='my' ? renderMyTk(f) : renderAllTk(f);
}

async function createTicket(){
  if(!CU){ toast('Connectez-vous d\'abord !'); return; }
  const cat = document.getElementById('tkCat').value;
  const subj = document.getElementById('tkSubj').value.trim();
  const desc = document.getElementById('tkDesc').value.trim();
  if(!subj||!desc){ toast('Remplissez tous les champs.'); return; }
  const t = {
    id: Date.now().toString(36) + Math.random().toString(36).slice(2,6),
    uid: CU.id, uname: CU.username, uav: av(CU),
    cat, subj, desc, st:'open', ca: Date.now(),
    msgs: [{ uid:CU.id, uname:CU.username, uav:av(CU), txt:desc, t:Date.now() }]
  };
  tickets.push(t); saveTk();
  document.getElementById('tkSubj').value = '';
  document.getElementById('tkDesc').value = '';
  refreshDash();
  toast('Ticket cr√©√© avec succ√®s !');
  await hook({ embeds:[{ title:`üé´ Nouveau ticket ‚Äî ${catL[cat]}`, description:`**${subj}**\n\n${desc}`, color:0x6366f1,
    fields:[{name:'Utilisateur',value:`${CU.username} (${CU.id})`,inline:true},{name:'Cat√©gorie',value:catL[cat],inline:true},{name:'ID',value:`#${t.id.slice(-6).toUpperCase()}`,inline:true}],
    thumbnail:{url:av(CU)}, timestamp:new Date().toISOString() }] });
  showPanel('my-tickets', document.querySelector('.dash-nav li:nth-child(2) a'));
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// TICKET CHAT
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openTk(id){
  const t = tickets.find(x => x.id===id); if(!t) return;
  curTk = id;
  document.getElementById('tcm-id').textContent = `#${t.id.slice(-6).toUpperCase()} ‚Äî ${stL[t.st]}`;
  document.getElementById('tcm-title').textContent = t.subj;
  const catEl = document.getElementById('tcm-cat');
  catEl.textContent = catL[t.cat]||'Autre';
  catEl.className = `tcat ${catC[t.cat]||'tc-a'}`;

  // Staff buttons inside modal header
  const sa = document.getElementById('tcm-staff-acts');
  sa.innerHTML = '';
  if(isStaff){
    if(t.st !== 'closed'){
      sa.innerHTML = `<button class="btn btn-warn btn-sm" onclick="setTkSt('${id}','pending')">En cours</button><button class="btn btn-danger btn-sm" onclick="setTkSt('${id}','closed')">Fermer</button>`;
    } else {
      sa.innerHTML = `<button class="btn btn-success btn-sm" onclick="setTkSt('${id}','open')">R√©ouvrir</button>`;
    }
  }

  renderMsgs(t);

  // Footer
  const foot = document.getElementById('tcm-foot');
  if(t.st === 'closed'){
    foot.innerHTML = `<div class="tcm-closed-note">Ce ticket est ferm√©.</div>`;
  } else {
    foot.innerHTML = `
      <div class="tcm-inp">
        <input type="text" id="tcm-input" placeholder="Votre message..." onkeydown="if(event.key==='Enter')sendMsg()">
        <button class="btn btn-primary btn-sm" onclick="sendMsg()">
          <svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          Envoyer
        </button>
      </div>`;
  }

  document.getElementById('moTicket').classList.add('act');
  setTimeout(() => { const m=document.getElementById('tcm-msgs'); if(m) m.scrollTop=m.scrollHeight; }, 80);
}

function renderMsgs(t){
  const el = document.getElementById('tcm-msgs');
  el.innerHTML = t.msgs.map(m => {
    const isMe = m.uid === CU?.id;
    const time = new Date(m.t).toLocaleTimeString('fr-FR',{hour:'2-digit',minute:'2-digit'});
    if(m.sys) return `<div class="msg sys"><div class="msg-body"><div class="msg-txt">${m.txt}</div></div></div>`;
    return `<div class="msg${isMe?' me':''}">
      <div class="msg-av">${m.uav?`<img src="${m.uav}">`:(m.uname?m.uname[0].toUpperCase():'?')}</div>
      <div class="msg-body">
        <div class="msg-name">${m.uname||'Utilisateur'}${m.staff?' <span style="font-size:.64rem;background:rgba(99,102,241,.18);color:var(--accent);padding:.08rem .38rem;border-radius:4px;margin-left:.3rem;font-weight:700">Staff</span>':''}</div>
        <div class="msg-txt">${m.txt}</div>
        <div class="msg-time">${time}</div>
      </div>
    </div>`;
  }).join('');
}

async function sendMsg(){
  if(!CU) return;
  const inp = document.getElementById('tcm-input');
  const txt = inp?.value.trim(); if(!txt) return;
  const t = tickets.find(x => x.id===curTk);
  if(!t || t.st==='closed') return;
  const staff = isStaff && t.uid !== CU.id;
  t.msgs.push({ uid:CU.id, uname:CU.username, uav:av(CU), txt, t:Date.now(), staff });
  if(staff) t.st = 'pending';
  saveTk(); renderMsgs(t);
  inp.value = '';
  const msgs = document.getElementById('tcm-msgs');
  if(msgs) msgs.scrollTop = msgs.scrollHeight;
  await hook({ embeds:[{ title:`üí¨ R√©ponse #${t.id.slice(-6).toUpperCase()}`, description:txt, color:staff?0xa855f7:0x22d3ee,
    fields:[{name:'De',value:`${CU.username}${staff?' (Staff)':''}`,inline:true}], timestamp:new Date().toISOString() }] });
}

function setTkSt(id, st){
  const t = tickets.find(x => x.id===id); if(!t) return;
  t.st = st;
  t.msgs.push({ sys:true, txt:`Ticket ${st==='closed'?'ferm√©':st==='pending'?'mis en cours':'r√©ouvert'} par ${CU.username}`, t:Date.now() });
  saveTk(); refreshDash();
  toast(`Ticket ${st==='closed'?'ferm√©':st==='pending'?'mis en cours':'r√©ouvert'}.`);
  openTk(id);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ORDERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function openOrder(plan){
  pendPlan = plan;
  document.getElementById('mo-title').textContent = `Commander : ${plan}`;
  const btn = document.getElementById('mo-btn');
  if(CU){
    document.getElementById('mo-desc').textContent = `Votre demande pour "${plan}" sera envoy√©e √† notre √©quipe Discord.`;
    btn.className = 'btn btn-primary';
    btn.style = 'width:100%;justify-content:center;padding:.75rem';
    btn.innerHTML = `<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg> Confirmer la commande`;
    btn.onclick = confirmOrder;
  } else {
    document.getElementById('mo-desc').textContent = `Connectez-vous avec Discord pour commander "${plan}".`;
    btn.className = 'btn btn-discord';
    btn.style = 'width:100%;justify-content:center;padding:.75rem';
    btn.innerHTML = `<svg width="17" height="17" viewBox="0 0 24 24" fill="currentColor"><path d="M20.317 4.37a19.791 19.791 0 00-4.885-1.515.074.074 0 00-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 00-5.487 0 12.64 12.64 0 00-.617-1.25.077.077 0 00-.079-.037A19.736 19.736 0 003.677 4.37a.07.07 0 00-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 00.031.057 19.9 19.9 0 005.993 3.03.078.078 0 00.084-.028 14.09 14.09 0 001.226-1.994.076.076 0 00-.041-.106 13.107 13.107 0 01-1.872-.892.077.077 0 01-.008-.128 10.2 10.2 0 00.372-.292.074.074 0 01.077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 01.078.01c.12.098.246.198.373.292a.077.077 0 01-.006.127 12.299 12.299 0 01-1.873.892.077.077 0 00-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 00.084.028 19.839 19.839 0 006.002-3.03.077.077 0 00.032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 00-.031-.03z"/></svg> Se connecter avec Discord`;
    btn.onclick = loginWithDiscord;
  }
  document.getElementById('moOrder').classList.add('act');
}

async function confirmOrder(){
  if(!CU || !pendPlan) return;
  await hook({ embeds:[{ title:`üõí Commande ‚Äî ${pendPlan}`, description:`**${CU.username}** commande **${pendPlan}**`, color:0xa855f7,
    fields:[{name:'Utilisateur',value:`${CU.username} (${CU.id})`,inline:true},{name:'Offre',value:pendPlan,inline:true}],
    thumbnail:{url:av(CU)}, timestamp:new Date().toISOString() }] });
  closeMo('moOrder');
  toast('Commande envoy√©e ! Notre √©quipe vous contactera bient√¥t.');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// REVIEWS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function setStar(n){
  selStars = n;
  document.querySelectorAll('.s-btn').forEach((b,i) => b.classList.toggle('on', i<n));
}

async function submitReview(){
  if(!CU){ toast('Connectez-vous d\'abord.'); return; }
  const txt = document.getElementById('revTxt').value.trim();
  if(!txt){ toast('√âcrivez un avis.'); return; }
  if(!selStars){ toast('S√©lectionnez une note.'); return; }
  await hook({ embeds:[{ title:'‚≠ê Nouvel avis', description:txt, color:0xfbbf24,
    fields:[{name:'Note',value:'‚≠ê'.repeat(selStars),inline:true},{name:'Auteur',value:CU.username,inline:true}],
    thumbnail:{url:av(CU)}, timestamp:new Date().toISOString() }] });
  document.getElementById('revTxt').value = '';
  setStar(0);
  toast('Avis envoy√© ! Merci pour votre retour.');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// UTILS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function closeMo(id){ document.getElementById(id).classList.remove('act'); }

function toast(msg){
  const t = document.getElementById('toast');
  document.getElementById('toast-txt').textContent = msg;
  t.classList.add('show');
  clearTimeout(t._t);
  t._t = setTimeout(() => t.classList.remove('show'), 4000);
}

async function hook(p){
  try { await fetch(WEBHOOK, { method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(p) }); } catch(e){}
}

// Close modals on overlay click
['moTicket','moOrder'].forEach(id => {
  document.getElementById(id).addEventListener('click', function(e){ if(e.target===this) closeMo(id); });
});
</script>
</body>
</html>
